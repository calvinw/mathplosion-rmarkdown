---
output:
  html_document:
    md_extensions: +tex_math_double_backslash
  pdf_document:
    md_extensions: +tex_math_double_backslash
  word_document:
    md_extensions: +tex_math_double_backslash
params:
  a:
    input: numeric
    label: a
    max: 100
    min: 0
    step: 1
    value: 21
  b:
    input: numeric
    label: b
    max: 100 
    min:  0
    step: 1
    value: 28
  mu:
    input: numeric
    label: mu
    max: 80
    min: 50
    step: 1
    value: 24
  sigma:
    input: numeric
    label: sigma
    max: 10
    min: 0
    step: 1
    value: 4 
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
dnorm_limit <- function(x) {
 y <- dnorm(x)
 y[x < -1.2 | x > 1.53] <- NA
 return(y)
}
```

## Area under normal curve between two values

We are going to find the area between the two x-values by using the standard normal (z) table:

For the left endpoint (x=a) the z-value is:

$$
`r {
    x<-params$a; 
    mu<-params$mu; 
    numer<-(x-mu); 
    sigma<-params$sigma; 
    z<-(x-mu)/sigma
    sprintf("z=\\frac{x-\\mu}{\\sigma}=\\frac{%s-%s}{%s}=\\frac{%s}{%s}=%s",
                                                x,mu,sigma,numer,sigma,z)
   }`
$$

For the right endpoint (x=b) the z-value is:

$$
`r {
    x<-params$b; 
    mu<-params$mu; 
    numer<-(x-mu); 
    sigma<-params$sigma; 
    z<-(x-mu)/sigma
    sprintf("z=\\frac{x-\\mu}{\\sigma}=\\frac{%s-%s}{%s}=\\frac{%s}{%s}=%s",
                                                x,mu,sigma,numer,sigma,z)
   }`
$$

Here is a picture of the area that we want.

```{r area, echo=FALSE}
#change dev to svg if need to
dat <- data.frame(x=c(-3.5, 3.5))
ggplot(dat, aes(x=x)) +
stat_function(fun=dnorm_limit, geom="area", fill="blue", alpha=0.5) +
stat_function(fun=dnorm) +
labs(x = "z", y = "") +
geom_hline(yintercept=0) +
scale_x_continuous(breaks = seq(-3, 3, by = 1.0)) +
scale_y_continuous(breaks = seq(0, .4, by = 0.2)) +
annotate("text", x = 1.5, y = -0.01, label = "z=1.53") +
annotate("text", x = -1.2, y = -0.01, label = "z=-1.2")
```


* Parameters
    * a is `r params$a` and the fraction is \\(\frac{`r params$a`}{4}\\)
    * b is `r params$b` \\(\frac{3}{4}\\)
* blah albh

# Parameter a is `r params$a` and b is `r params$b` 
1. The region is `r params$region`
2. The gender is `r params$gender`
    * Unordered sub-list. 
3. The value of c is `r params$c` 
    1. Ordered sublist
    2. number 2 on the ordered sublist
4. The word of the day is: `r params$word`.

   Inline style double backslash paren style \\(\frac{3}{4}\\) blah

   Inline code style  backslash paren style \\(\frac{`r params$a`}{4}\\)
